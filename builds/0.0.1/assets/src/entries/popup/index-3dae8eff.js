import{S as x,i as b,s as k,a as g,b as v,c as w,d as _,e as h,f,g as S,h as J,j as A,k as O,n as $,l as B,m as j,o as Z,p as D,q as z,t as d,r as L,u as m,v as I,w as M,x as V,y as E,z as P,A as F,B as T,C as G,D as K,E as Q}from"../../../index-3e22fdda.js";function R(s){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{fill:"none"},{viewBox:"0 0 24 24"},s[0]],r={};for(let l=0;l<n.length;l+=1)r=g(r,n[l]);return{c(){t=v("svg"),e=v("path"),this.h()},l(l){t=w(l,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var a=_(t);e=w(a,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),_(e).forEach(h),a.forEach(h),this.h()},h(){f(e,"fill","#000"),f(e,"fill-rule","evenodd"),f(e,"d","M18.485 2.293a1 1 0 0 1 1.415 0c5.467 5.467 5.467 14.332 0 19.799a1 1 0 0 1-1.415-1.414c4.687-4.687 4.687-12.285 0-16.97a1 1 0 0 1 0-1.415ZM17.071 5.12a1 1 0 1 0-1.414 1.414 8 8 0 0 1 0 11.314 1 1 0 0 0 1.414 1.414c3.905-3.905 3.905-10.236 0-14.142ZM14.243 7.95a1 1 0 1 0-1.415 1.414 4 4 0 0 1 0 5.657 1 1 0 0 0 1.415 1.414 6 6 0 0 0 0-8.485ZM11 6.04c0-1.257-1.455-1.957-2.437-1.171L4.649 8H3a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.65l3.913 3.131c.982.786 2.437.086 2.437-1.171V6.04ZM5.899 9.562 9 7.08v9.838l-3.101-2.48A2 2 0 0 0 4.649 14H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1.65a2 2 0 0 0 1.249-.438Z"),f(e,"clip-rule","evenodd"),S(t,r)},m(l,a){J(l,t,a),A(t,e)},p(l,[a]){S(t,r=O(n,[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{fill:"none"},{viewBox:"0 0 24 24"},a&1&&l[0]]))},i:$,o:$,d(l){l&&h(t)}}}function U(s,t,e){return s.$$set=n=>{e(0,t=g(g({},t),B(n)))},t=B(t),[t]}let X=class extends x{constructor(t){super(),b(this,t,U,R,k,{})}};function tt(s){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{fill:"none"},{viewBox:"0 0 24 24"},s[0]],r={};for(let l=0;l<n.length;l+=1)r=g(r,n[l]);return{c(){t=v("svg"),e=v("path"),this.h()},l(l){t=w(l,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var a=_(t);e=w(a,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),_(e).forEach(h),a.forEach(h),this.h()},h(){f(e,"fill","#000"),f(e,"fill-rule","evenodd"),f(e,"d","M11 6.04c0-1.257-1.455-1.957-2.437-1.171L4.649 8H3a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.65l3.913 3.131c.982.786 2.437.086 2.437-1.171V6.04ZM5.899 9.562 9 7.08v9.838l-3.101-2.48A2 2 0 0 0 4.649 14H3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1.65a2 2 0 0 0 1.249-.438Zm11.172-4.44a1 1 0 0 0-1.414 1.413 8 8 0 0 1 0 11.314 1 1 0 0 0 1.414 1.414c3.905-3.905 3.905-10.237 0-14.142ZM14.243 7.95a1 1 0 1 0-1.415 1.414 4 4 0 0 1 0 5.657 1 1 0 0 0 1.415 1.414 6 6 0 0 0 0-8.485Z"),f(e,"clip-rule","evenodd"),S(t,r)},m(l,a){J(l,t,a),A(t,e)},p(l,[a]){S(t,r=O(n,[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{fill:"none"},{viewBox:"0 0 24 24"},a&1&&l[0]]))},i:$,o:$,d(l){l&&h(t)}}}function et(s,t,e){return s.$$set=n=>{e(0,t=g(g({},t),B(n)))},t=B(t),[t]}let nt=class extends x{constructor(t){super(),b(this,t,et,tt,k,{})}};function rt(s){let t,e;return t=new X({props:{width:"15",height:"15"}}),{c(){M(t.$$.fragment)},m(n,r){V(t,n,r),e=!0},i(n){e||(m(t.$$.fragment,n),e=!0)},o(n){d(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}function lt(s){let t,e;return t=new nt({props:{width:"15",height:"15"}}),{c(){M(t.$$.fragment)},m(n,r){V(t,n,r),e=!0},i(n){e||(m(t.$$.fragment,n),e=!0)},o(n){d(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}function at(s){let t,e,n,r,l,a;const u=[lt,rt],o=[];function i(c,p){return c[0]<=.4?0:1}return e=i(s),n=o[e]=u[e](s),{c(){t=j("button"),n.c(),f(t,"class","volume svelte-10qa5o")},m(c,p){Z(c,t,p),o[e].m(t,null),r=!0,l||(a=D(t,"click",s[1]),l=!0)},p(c,[p]){let C=e;e=i(c),e!==C&&(z(),d(o[C],1,1,()=>{o[C]=null}),L(),n=o[e],n||(n=o[e]=u[e](c),n.c()),m(n,1),n.m(t,null))},i(c){r||(m(n),r=!0)},o(c){d(n),r=!1},d(c){c&&h(t),o[e].d(),l=!1,a()}}}function st(s,t,e){const n=I();let{currentVolume:r}=t;const l=()=>{n("toggle")};return s.$$set=a=>{"currentVolume"in a&&e(0,r=a.currentVolume)},[r,l]}class ut extends x{constructor(t){super(),b(this,t,st,at,k,{currentVolume:0})}}function ot(s){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"-1 0 8 8"},s[0]],r={};for(let l=0;l<n.length;l+=1)r=g(r,n[l]);return{c(){t=v("svg"),e=v("path"),this.h()},l(l){t=w(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=_(t);e=w(a,"path",{fill:!0,"fill-rule":!0,d:!0}),_(e).forEach(h),a.forEach(h),this.h()},h(){f(e,"fill","#000"),f(e,"fill-rule","evenodd"),f(e,"d","M1 0a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1m5 1v6a1 1 0 0 1-2 0V1a1 1 0 0 1 2 0"),S(t,r)},m(l,a){J(l,t,a),A(t,e)},p(l,[a]){S(t,r=O(n,[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"-1 0 8 8"},a&1&&l[0]]))},i:$,o:$,d(l){l&&h(t)}}}function it(s,t,e){return s.$$set=n=>{e(0,t=g(g({},t),B(n)))},t=B(t),[t]}let ct=class extends x{constructor(t){super(),b(this,t,it,ot,k,{})}};function ft(s){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"-0.5 0 7 7"},s[0]],r={};for(let l=0;l<n.length;l+=1)r=g(r,n[l]);return{c(){t=v("svg"),e=v("path"),this.h()},l(l){t=w(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=_(t);e=w(a,"path",{fill:!0,"fill-rule":!0,d:!0}),_(e).forEach(h),a.forEach(h),this.h()},h(){f(e,"fill","#000"),f(e,"fill-rule","evenodd"),f(e,"d","M5.495 2.573 1.5.143C.832-.266 0 .25 0 1.068V5.93c0 .82.832 1.333 1.5.927l3.995-2.43c.673-.41.673-1.445 0-1.855"),S(t,r)},m(l,a){J(l,t,a),A(t,e)},p(l,[a]){S(t,r=O(n,[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"-0.5 0 7 7"},a&1&&l[0]]))},i:$,o:$,d(l){l&&h(t)}}}function ht(s,t,e){return s.$$set=n=>{e(0,t=g(g({},t),B(n)))},t=B(t),[t]}let gt=class extends x{constructor(t){super(),b(this,t,ht,ft,k,{})}};function dt(s){let t,e;return t=new gt({props:{width:"15",height:"15"}}),{c(){M(t.$$.fragment)},m(n,r){V(t,n,r),e=!0},i(n){e||(m(t.$$.fragment,n),e=!0)},o(n){d(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}function mt(s){let t,e;return t=new ct({props:{width:"15",height:"15"}}),{c(){M(t.$$.fragment)},m(n,r){V(t,n,r),e=!0},i(n){e||(m(t.$$.fragment,n),e=!0)},o(n){d(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}function pt(s){let t,e,n,r,l,a;const u=[mt,dt],o=[];function i(c,p){return c[0]==="playing"?0:1}return e=i(s),n=o[e]=u[e](s),{c(){t=j("button"),n.c(),f(t,"class","playButton svelte-fp78b2")},m(c,p){Z(c,t,p),o[e].m(t,null),r=!0,l||(a=D(t,"click",s[1]),l=!0)},p(c,[p]){let C=e;e=i(c),e!==C&&(z(),d(o[C],1,1,()=>{o[C]=null}),L(),n=o[e],n||(n=o[e]=u[e](c),n.c()),m(n,1),n.m(t,null))},i(c){r||(m(n),r=!0)},o(c){d(n),r=!1},d(c){c&&h(t),o[e].d(),l=!1,a()}}}function vt(s,t,e){const n=I();let{currentState:r}=t;const l=()=>{n("click")};return s.$$set=a=>{"currentState"in a&&e(0,r=a.currentState)},[r,l]}class wt extends x{constructor(t){super(),b(this,t,vt,pt,k,{currentState:0})}}function _t(s){let t,e,n,r,l=[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"0 0 24 24"},s[0]],a={};for(let u=0;u<l.length;u+=1)a=g(a,l[u]);return{c(){t=v("svg"),e=v("g"),n=v("path"),r=v("path"),this.h()},l(u){t=w(u,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var o=_(t);e=w(o,"g",{fill:!0,"fill-rule":!0});var i=_(e);n=w(i,"path",{d:!0}),_(n).forEach(h),r=w(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),_(r).forEach(h),i.forEach(h),o.forEach(h),this.h()},h(){f(n,"d","M0 0h24v24H0z"),f(r,"stroke","#0C0310"),f(r,"stroke-linecap","round"),f(r,"stroke-width","2"),f(r,"d","M15.337 12.422 5.768 18.51A.5.5 0 0 1 5 18.089V5.911a.5.5 0 0 1 .768-.422l9.57 6.09a.5.5 0 0 1 0 .843ZM19 5v14"),f(e,"fill","none"),f(e,"fill-rule","evenodd"),S(t,a)},m(u,o){J(u,t,o),A(t,e),A(e,n),A(e,r)},p(u,[o]){S(t,a=O(l,[{xmlns:"http://www.w3.org/2000/svg"},{width:"800"},{height:"800"},{viewBox:"0 0 24 24"},o&1&&u[0]]))},i:$,o:$,d(u){u&&h(t)}}}function $t(s,t,e){return s.$$set=n=>{e(0,t=g(g({},t),B(n)))},t=B(t),[t]}class yt extends x{constructor(t){super(),b(this,t,$t,_t,k,{})}}function xt(s){let t,e,n,r,l;return e=new yt({props:{width:"15",height:"15"}}),{c(){t=j("button"),M(e.$$.fragment),f(t,"class","nextButton svelte-pu6oah")},m(a,u){Z(a,t,u),V(e,t,null),n=!0,r||(l=D(t,"click",s[0]),r=!0)},p:$,i(a){n||(m(e.$$.fragment,a),n=!0)},o(a){d(e.$$.fragment,a),n=!1},d(a){a&&h(t),E(e),r=!1,l()}}}function bt(s){const t=I();return[()=>{t("click")}]}class kt extends x{constructor(t){super(),b(this,t,bt,xt,k,{})}}function St(s){let t,e,n,r,l,a,u,o;return e=new wt({props:{currentState:s[1]}}),e.$on("click",s[3]),u=new kt({}),u.$on("click",s[2]),{c(){t=j("div"),M(e.$$.fragment),n=P(),r=j("span"),l=F(s[0]),a=P(),M(u.$$.fragment),f(r,"class","title svelte-1vjqmy8"),f(t,"class","player svelte-1vjqmy8")},m(i,c){Z(i,t,c),V(e,t,null),T(t,n),T(t,r),T(r,l),T(t,a),V(u,t,null),o=!0},p(i,[c]){const p={};c&2&&(p.currentState=i[1]),e.$set(p),(!o||c&1)&&G(l,i[0])},i(i){o||(m(e.$$.fragment,i),m(u.$$.fragment,i),o=!0)},o(i){d(e.$$.fragment,i),d(u.$$.fragment,i),o=!1},d(i){i&&h(t),E(e),E(u)}}}function Bt(s,t,e){const n=I();let{currentTrack:r}=t,{currentState:l}=t;const a=()=>{n("next")},u=()=>{n("toggleState")};return s.$$set=o=>{"currentTrack"in o&&e(0,r=o.currentTrack),"currentState"in o&&e(1,l=o.currentState)},[r,l,a,u]}class Mt extends x{constructor(t){super(),b(this,t,Bt,St,k,{currentTrack:0,currentState:1})}}function Vt(s){let t,e,n,r,l;return e=new Mt({props:{currentTrack:s[1],currentState:s[2]}}),e.$on("next",s[4]),e.$on("prev",s[5]),e.$on("toggleState",s[6]),r=new ut({props:{currentVolume:s[0]}}),r.$on("toggle",s[3]),{c(){t=j("div"),M(e.$$.fragment),n=P(),M(r.$$.fragment),f(t,"class","music svelte-1ea7rah")},m(a,u){Z(a,t,u),V(e,t,null),T(t,n),V(r,t,null),l=!0},p(a,[u]){const o={};u&2&&(o.currentTrack=a[1]),u&4&&(o.currentState=a[2]),e.$set(o);const i={};u&1&&(i.currentVolume=a[0]),r.$set(i)},i(a){l||(m(e.$$.fragment,a),m(r.$$.fragment,a),l=!0)},o(a){d(e.$$.fragment,a),d(r.$$.fragment,a),l=!1},d(a){a&&h(t),E(e),E(r)}}}function Et(s,t,e){let n=null,r=null,l=null,a="pause";function u(y){return browser.tabs.executeScript(n.id,{code:y})}async function o(){const[y]=await u("window.wrappedJSObject.Mu.Adapter.prototype.getVolume()");e(0,r=y)}async function i(){const[y]=await u("window.wrappedJSObject.Mu.Adapter.prototype.getCurrent()"),[q]=await u("window.wrappedJSObject.Mu.Adapter.prototype.getState()"),{title:H}=y;e(1,l=H),e(2,a=q)}let c=null;K(async()=>{(await browser.tabs.query({currentWindow:!0})).forEach(q=>{var H;(H=q.url)!=null&&H.startsWith("https://music.yandex.ru")&&(n=q)}),o(),i(),c=setInterval(i,1e3)}),Q(()=>{clearInterval(c),c=null});async function p(y){await u(`window.wrappedJSObject.Mu.Adapter.prototype.setVolume(${y})`)}async function C(){const y=r<=.4?1:.4;await p(y),o()}async function N(){await u("window.wrappedJSObject.Mu.Adapter.prototype.next()"),i()}async function W(){await u("window.wrappedJSObject.Mu.Adapter.prototype.prev()"),i()}async function Y(){await u(`window.wrappedJSObject.Mu.Adapter.prototype.${a==="playing"?"pause":"resume"}()`),i()}return[r,l,a,C,N,W,Y]}class Ct extends x{constructor(t){super(),b(this,t,Et,Vt,k,{})}}function At(s){let t,e,n;return e=new Ct({}),{c(){t=j("main"),M(e.$$.fragment),f(t,"class","svelte-1ubfyxy")},m(r,l){Z(r,t,l),V(e,t,null),n=!0},p:$,i(r){n||(m(e.$$.fragment,r),n=!0)},o(r){d(e.$$.fragment,r),n=!1},d(r){r&&h(t),E(e)}}}class jt extends x{constructor(t){super(),b(this,t,null,At,k,{})}}new jt({target:document.getElementById("app")});
